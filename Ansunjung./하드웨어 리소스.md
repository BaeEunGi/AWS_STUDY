> **EC2, EBS, S3**

## Amazon Elastic Compute Cloud(EC2)
+ 가상서버(인스턴스), 백업 이미지, 디스크(EBS), 방화벽, 고정 글로벌 IP등을 사용할 수 있게 해주는 서비스 
+ 인스턴스에 미들웨어 설정이 가능하다
+ **EBS, 인스턴스** 핵심

### 인스턴스
+ 기존의 On Premise 환경 위의 서버
+ OS, CPU, 메모리 정보를 갖고있다.

### 인스턴스에 적용할 수 있는 인스턴스 유형
+ 사용 목적에 따라 유형이 구분된다.
  + T2, M3인스턴스 -> 범용적
  + C3, C4인스턴스 -> CPU성능을 높게함
  + R3인스턴스 -> 메모리 용량을 크게함
  
### 인스턴스 스토리지
+ EC2인스턴스가 가동되는 물리 서버에 있는 로컬 디스크
+ 인스턴스 유형에 따라 사용할 수 있는 인스턴스 스토리지의 크기와 개수가 정해진다.
+ EC2를 중지하면 데이터는 모두 사라진다. -> 임시파일, 캐시데이터를 저장할때만 사용


### EBS-Backed 인스턴스와 Instance Store-Backed 인스턴스

**EBS-Backed 인스턴스** 
+ OS를 포함한 **루트 디바이스** 정보를 **EBS**에 저장한 인스턴스를 나타냄
+ 인스턴스를 중지해도 EBS에 모두 기록, 유지가능

**Instance Store_Backed 인스턴스**
+ OS를 포함한 루트 디바이스 정보를 **S3**에 저장한 인스턴스
+ 실행할때마다 루트디바이스를 처음부터 읽어들인다. --> 이전의 변경사항은 파기 된다.


## Amazon Elastic Block Store
> On Premise에서 **외장 디스크**에 해당한다.

### EBS 볼륨 유형
> + **범용**
  >> + 주로 많이 사용
  
> + **프로비저닝된 IOPS**
  >> + 가장 빈번하게 I/O가 지속적으로 발생할 때 사용
  
> + **마그네틱**
  >> + 개발 환경 등에 조금만 활용할 때 사용 but, 읽고쓰는데도 비용이 발생

### EBS 크기와 암호화
+ **EBS 스냅샷**을 생성하여 크기를 변경한다. (단, 크기는 증가시킬 수 있지만 감소는 불가능)
+ 읽고, 쓰고, 복구 하는데 **AES-265**알고리즘으로 EBS를 암호화하여 관리한다.(암호화 활성화는 선택)


## EC2 백업
> **AMI, EBS 스냅샷**

### Amazon Mashine Image(AMI)
+ 가상 서버에 있는 인스턴스 기동에 필요한 정보 저장
+ EBS 스냅샷과 함께 사용해야함

### EBS 스냅샷
+ EBS를 백업해서 S3에 저장하는 기능
+ 이전의 EBS 스냅샷에서 변경된 현재 EBS의 **변경 사항**만 백업하는 **증분식 백업**
+ EC2 내부에서만 사용할 수 있다. 


## Amazon Simple Storage Service(S3)
> REST, SOAP와 같은 단순한 웹 서비스 인터페이스를 사용

### S3 확장화 구성
+ 데이터를 저장할 때 자동적으로 여러 개의 데이터 센터에서 데이터를 동기화함
+ **최종 일관성** -> 처리속도를 높이기 위해 사용
>> + 업데이트 작업은 시간이 어느 정도 지나면 반드시 반영한다
>> + 동기화 하는 동안 읽기를 하면 이전 데이터를 읽을 수도 있음

### S3의 스토리지 옵션
> + 버킷이라는 컨테이너를 놓을 리전을 선택하고, 컨테이너 내부에 객체라는 형태로 데이터 저장
> +**표준 스토리지, RRS**
>> + 표준 스토리지 -> 데이터 손실이 발생해도 데이터 유지 (2개 거점에 데이터 저장)
>> + RRS -> 단일 시설에서 데이터 손실 막음 (가용성은 표준스토리지보단 낮음, 주료 요금 절감할때 사용)

### S3 암호화
+ **서버 사이드 암호화(SSE)** 사용
+ AES-256 알고리즘 ㅏㅅ용
+ 키 관리 패턴 방식
  >> + Amazon S3 키 관리
  >> + 클라이언트 키
  >> + AWS KMS
 
### S3 접근관리
<img src = "https://user-images.githubusercontent.com/55094745/103729993-0b634800-5025-11eb-81dc-44757aaf43f9.png" width = "50%"></img>
>> +버킷 정책, ACL, IAM제어
+ ACL -> 객체 단위로 접근 제어
+ IAM -> 사용자 단위로 접근 제어



## Amazon Glacier
> + 아카이브 스토리지 서비스, 아카이브 ID로 관리한다.
> + 장기간 보존, 접속 빈도가 낮은 데이터 저장





